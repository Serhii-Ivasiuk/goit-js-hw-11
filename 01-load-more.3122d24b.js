function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},t={},o=n.parcelRequired7c6;null==o&&((o=function(e){if(e in r)return r[e].exports;if(e in t){var n=t[e];delete t[e];var o={id:e,exports:{}};return r[e]=o,n.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,n){t[e]=n},n.parcelRequired7c6=o);var a=o("7Y9D8"),i=o("fZKcF");const s=new(0,o("6xLgV").ImagesService),l={form:document.querySelector("#search-form"),gallery:document.querySelector(".gallery"),loadMoreBtn:document.querySelector(".load-more")};let c=null;function u(e){e.map((({webformatURL:e,largeImageURL:n,tags:r,likes:t,views:o,comments:a,downloads:i})=>{l.gallery.insertAdjacentHTML("beforeend",`\n        <a href="${n}">\n          <div class="photo-card">\n            <img src="${e}" alt="${r}" loading="lazy" />\n            <div class="info">\n              <p class="info-item">\n                <b>Likes</b>\n                ${t}\n              </p>\n              <p class="info-item">\n                <b>Views</b>\n                ${o}\n              </p>\n              <p class="info-item">\n                <b>Comments</b>\n                ${a}\n              </p>\n              <p class="info-item">\n                <b>Downloads</b>\n                ${i}\n              </p>\n            </div>\n          </div>\n        </a>\n        `)}))}function d(){l.gallery.insertAdjacentHTML("beforeend",'\n    <p class="end-message">\n      The end of search results.\n    </p>\n    ')}function f(e){l.loadMoreBtn.style.display=e?"block":"none"}function g(n,r){return e(a).Notify[n](r,{position:"center-center",clickToClose:!0})}l.form.addEventListener("submit",(async function(n){if(n.preventDefault(),f(!1),function(){l.gallery.innerHTML=""}(),s.pageReset(),s.query=n.target.elements.searchQuery.value.trim(),""===s.query)return l.form.reset(),void g("info","Please, enter your search request.");try{const{hits:n,totalHits:r,total:t}=await s.getImages();if(0===t)return void g("failure","Sorry, there are no images matching your search query. Please try again.");if(g("success",`Hooray! We found ${r} images.`),u(n),c=new(e(i))(".gallery a"),r<s.page*s.perPage)return f(!1),g("info","We're sorry, but you've reached the end of search results."),void d();f(!0)}catch{g("failure","Something went wrong... Please try again later.")}})),l.loadMoreBtn.addEventListener("click",(async function(){s.incrementPage();try{const{hits:e,totalHits:n}=await s.getImages();u(e),function(){const{height:e}=l.gallery.firstElementChild.getBoundingClientRect();window.scrollBy({top:2*e,behavior:"smooth"})}(),c.refresh(),n<s.page*s.perPage&&(f(!1),g("info","We're sorry, but you've reached the end of search results."),d())}catch{g("failure","Something went wrong... Please try again later.")}})),f(!1);
//# sourceMappingURL=01-load-more.3122d24b.js.map
