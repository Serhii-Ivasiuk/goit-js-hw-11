function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},a=n.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var a={id:e,exports:{}};return t[e]=a,n.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,n){r[e]=n},n.parcelRequired7c6=a);var o=a("7Y9D8"),s=a("fZKcF"),i=a("2shzp");const l={form:document.querySelector("#search-form"),gallery:document.querySelector(".gallery")},c="success",d="failure",f="info",u=new URLSearchParams({key:"34105026-760e87e01f05ad85b03df7d04",q:"",image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:40,page:1}),g=new IntersectionObserver((([e],n)=>{e.isIntersecting&&(n.unobserve(e.target),async function(){p+=1,u.set("page",p);const e=await m();if(b(e.data.hits),function(){const{height:e}=l.gallery.firstElementChild.getBoundingClientRect();window.scrollBy({top:2*e,behavior:"smooth"})}(),y.refresh(),e.data.totalHits<u.get("page")*u.get("per_page"))return v(f,"We're sorry, but you've reached the end of search results."),void l.gallery.insertAdjacentHTML("beforeend",'\n    <p class="end-message">\n      The end of search results.\n    </p>\n    ');h()}())}));let p=1,y=null;function h(){const e=document.querySelector(".gallery > a:last-child");e&&g.observe(e)}async function m(){try{return await i.default.get(`https://pixabay.com/api/?${u}`)}catch(e){console.error(e)}}function b(e){e.map((({webformatURL:e,largeImageURL:n,tags:t,likes:r,views:a,comments:o,downloads:s})=>{l.gallery.insertAdjacentHTML("beforeend",`\n        <a href="${n}">\n          <div class="photo-card">\n            <img src="${e}" alt="${t}" loading="lazy" />\n            <div class="info">\n              <p class="info-item">\n                <b>Likes</b>\n                ${r}\n              </p>\n              <p class="info-item">\n                <b>Views</b>\n                ${a}\n              </p>\n              <p class="info-item">\n                <b>Comments</b>\n                ${o}\n              </p>\n              <p class="info-item">\n                <b>Downloads</b>\n                ${s}\n              </p>\n            </div>\n          </div>\n        </a>\n        `)}))}function v(n,t){return e(o).Notify[n](t)}l.form.addEventListener("submit",(async function(n){n.preventDefault(),l.gallery.innerHTML="",u.set("page",p);const t=n.target.elements.searchQuery.value.trim();if(""===t)return l.form.reset(),void v(f,"Please, enter your search request.");u.set("q",t);const r=await m();if(0===r.data.total)return void v(d,"Sorry, there are no images matching your search query. Please try again.");v(c,`Hooray! We found ${r.data.totalHits} images.`),b(r.data.hits),h(),y=new(e(s))(".gallery a")}));
//# sourceMappingURL=02-infinite-scroll.1805c39e.js.map
